<div align="center">
<h1 align="center">BilibiliåŠ©æ‰‹</h1>
<img src="https://img.shields.io/github/issues/srcrs/BilibiliTask?color=green">
<img src="https://img.shields.io/github/stars/srcrs/BilibiliTask?color=yellow">
<img src="https://img.shields.io/github/forks/srcrs/BilibiliTask?color=orange">
<img src="https://img.shields.io/github/license/srcrs/BilibiliTask?color=ff69b4">
<img src="https://img.shields.io/github/search/srcrs/BilibiliTask/main?color=blue">
<img src="https://img.shields.io/github/v/release/srcrs/BilibiliTask?color=blueviolet">
<img src="https://img.shields.io/github/languages/code-size/srcrs/BilibiliTask?color=critical">
</div>

# ç®€ä»‹

ğŸ‘¯âœ¨ğŸ˜„ğŸ“«


æ­£å¼å»é™¤Actionsæ‰§è¡Œæ–¹å¼ï¼Œåç»­ä¼šé€‚é…äº‘å‡½æ•°

å“”å“©å“”å“©(`B`ç«™)è‡ªåŠ¨å®Œæˆæ¯æ—¥ä»»åŠ¡ï¼Œ
æŠ•å¸ï¼Œç‚¹èµï¼Œç›´æ’­ç­¾åˆ°ï¼Œè‡ªåŠ¨å…‘æ¢é“¶ç“œå­ä¸ºç¡¬å¸ï¼Œè‡ªåŠ¨é€å‡ºå³å°†è¿‡æœŸç¤¼ç‰©ï¼Œæ¼«ç”»`App`ç­¾åˆ°ï¼Œå¤§ä¼šå‘˜é¢†å–`B`å¸å·ç­‰ã€‚æ¯å¤©è·å¾—`65`ç‚¹ç»éªŒï¼ŒåŠ©ä½ å¿«é€Ÿå‡çº§åˆ°`Lv6`ã€‚

å¼€æºä¸æ˜“ï¼Œå¦‚æœæœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œé‚£ä¹ˆå°±è¯·ç»™ä¸ª`star`å§ã€‚ğŸ˜„

é‡è¦æç¤ºï¼Œå¦‚æœæ”¶åˆ°äº†`b`ç«™çš„è´¦å·å®‰å…¨é€šçŸ¥ï¼Œå¯ä»¥è€ƒè™‘å°†`Actions`ç¦ç”¨ä¸€æ®µæ—¶é—´ï¼Œè§‚æœ›ä¸€æ®µæ—¶é—´å†è¿›è¡Œä½¿ç”¨ï¼Œå…·ä½“ç¦ç”¨æ­¥éª¤ï¼Œè¯·å‚è€ƒæ­¤[Issues](https://github.com/srcrs/BilibiliTask/issues/78)ã€‚

# åŠŸèƒ½

* [x] è‡ªåŠ¨è·å–ç»éªŒ(æŠ•å¸ã€ç‚¹èµã€åˆ†äº«è§†é¢‘)
* [x] ç›´æ’­è¾…åŠ©(ç›´æ’­ç­¾åˆ°ï¼Œè‡ªåŠ¨é€å‡ºå³å°†è¿‡æœŸçš„ç¤¼ç‰©)
* [x] è‡ªåŠ¨å…‘æ¢é“¶ç“œå­ä¸ºç¡¬å¸
* [x] è‡ªåŠ¨é¢†å–å¹´åº¦å¤§ä¼šå‘˜æ¯æœˆæƒç›Š(æ¯æœˆ`1`å·é¢†å–`B`å¸åŠµã€æƒç›Šç¤¼åŒ…)
* [x] æœˆåº•è‡ªåŠ¨ç”¨Bå¸å·ç»™è‡ªå·±å……ç”µ(æ¯æœˆ`28`å·)
* [x] æœˆåº•è‡ªåŠ¨ç”¨Bå¸å·å…‘æ¢é‡‘ç“œå­(æ¯æœˆ`28`å·)
* [x] æ¼«ç”»è¾…åŠ©è„šæœ¬(æ¼«ç”»`APP`ç­¾åˆ°)
* [x] æ”¯æŒåŠŸèƒ½è‡ªå®šä¹‰(è‡ªå®šä¹‰æŠ•å¸æ•°é‡ï¼Œé“¶ç“œå­å…‘æ¢ç¡¬å¸å¼€å…³ç­‰)
* [x] è´¦æˆ·å¤±æ•ˆæé†’(å‘é€åˆ°ä½ çš„å¾®ä¿¡æˆ–è€…é’‰é’‰æé†’ã€é‚®ç®±æé†’)
* [x] æ”¯æŒå¤šç§æ–¹å¼æ¨é€è¿è¡Œç»“æœ(é’‰é’‰ã€å¾®ä¿¡)
* [x] æ”¯æŒDockerè‡ªå·±éƒ¨ç½²

# ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [åŠŸèƒ½](#åŠŸèƒ½)
- [ç›®å½•](#ç›®å½•)
- [Dockeréƒ¨ç½²æ–¹æ³•](#Dockeréƒ¨ç½²æ–¹æ³•)
- [è¿›é˜¶ä½¿ç”¨](#è¿›é˜¶ä½¿ç”¨)
  - [1.é…ç½®æ–‡ä»¶è¯´æ˜](#1é…ç½®æ–‡ä»¶è¯´æ˜)
  - [2.æ¨é€è¿è¡Œç»“æœåˆ°å¾®ä¿¡](#2æ¨é€è¿è¡Œç»“æœåˆ°å¾®ä¿¡)
  - [3.æ¨é€è¿è¡Œç»“æœåˆ°é’‰é’‰](#3æ¨é€è¿è¡Œç»“æœåˆ°é’‰é’‰)
  - [4.ä½¿ç”¨`Telegram bot`æ¨é€è¿è¡Œç»“æœåˆ°`Telgram`ç¾¤ç»„](#4ä½¿ç”¨telegram-botæ¨é€è¿è¡Œç»“æœåˆ°telgramç¾¤ç»„)
  - [5.è‡ªå®šä¹‰ç¨‹åºè¿è¡Œæ—¶é—´](#5è‡ªå®šä¹‰ç¨‹åºè¿è¡Œæ—¶é—´)
- [å¦‚ä½•æ‹‰å–æœ€æ–°ä»£ç ](#å¦‚ä½•æ‹‰å–æœ€æ–°ä»£ç )
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)
- [å‚è€ƒé¡¹ç›®](#å‚è€ƒé¡¹ç›®)

å…³äºæ—¥å¿—ä¸­çš„ âœ” å’Œ âŒ è¯´æ˜

ç¬¦å· | è¯´æ˜
-|-
âœ” | æœ¬æ¬¡ç¨‹åºè¿è¡Œï¼ŒæˆåŠŸçš„æ‰§è¡Œäº†ä»£ç ï¼Œå¹¶å®Œæˆäº†ä»»åŠ¡(ä¾‹å¦‚ï¼Œåˆ†äº«è§†é¢‘ï¼Œä»Šæ—¥æœªåˆ†äº«è¿‡ï¼Œé‚£ä¹ˆç¨‹åºå°±åº”è¯¥è¯·æ±‚åˆ†äº«è§†é¢‘çš„æ¥å£ï¼ŒååŠ©å®Œæˆåˆ†äº«è§†é¢‘çš„ä»»åŠ¡)ã€‚
âŒ | å¯èƒ½ä¸¤ç§æ“ä½œä¼šå‡ºç°è¿™ä¸ªç¬¦å·ã€‚1.ç¨‹åºæˆåŠŸçš„æ‰§è¡Œäº†ï¼Œå°è¯•å»å®Œæˆä»»åŠ¡ï¼Œä½†æ˜¯ä¸­é€”é‡åˆ°äº†æœªçŸ¥çš„å¤±è´¥ã€‚2.ç¨‹åºæˆåŠŸçš„æ‰§è¡Œäº†ï¼Œæ£€æµ‹åˆ°æ­¤ç±»ä»»åŠ¡å·²ç»å®Œæˆ(ä¾‹å¦‚ï¼Œåˆ†äº«è§†é¢‘ï¼Œä»Šæ—¥å·²ç»åˆ†äº«è¿‡ï¼Œé‚£ä¹ˆç¨‹åºä¸åº”è¯¥è¯·æ±‚åˆ†äº«è§†é¢‘çš„æ¥å£ï¼Œæ— éœ€ååŠ©å®Œæˆåˆ†äº«è§†é¢‘çš„ä»»åŠ¡)ï¼Œå°±æ— éœ€å†å»å®Œæˆã€‚å¯ä»¥ç†è§£ä¸ºè·³è¿‡æˆ–é‡åˆ°é”™è¯¯ã€‚

# è¿›é˜¶ä½¿ç”¨

## 1.é…ç½®æ–‡ä»¶è¯´æ˜

é…ç½®æ–‡ä»¶çš„ä½ç½®åœ¨`src/main/resource/config.yml`ã€‚

é‡è¦æç¤ºï¼ï¼ï¼

ç¨‹åºæ£€æµ‹åˆ°ç¤¼ç‰©æœ‰æ•ˆæœŸè¿˜å‰©`1`å¤©ï¼Œå°†ä¼šè‡ªåŠ¨éšæœºé€å‡ºï¼Œéƒ¨åˆ†æœ‹å‹åŒ…è£¹é‡Œå¯èƒ½ä¼šæœ‰è´µé‡ç¤¼ç‰©ï¼Œä½ å¯ä»¥æ‰‹åŠ¨å…³é—­å³å°†è¿‡æœŸç¤¼ç‰©é€å‡ºåŠŸèƒ½ã€‚
éœ€è¦åœ¨`config.yml`ä¸­ï¼Œå°†`gift`é¡¹è®¾ç½®ä¸º`false`ã€‚è¯¦æƒ…è§ä¸‹æ–¹[é…ç½®æ–‡ä»¶è¯´æ˜](#é…ç½®æ–‡ä»¶è¯´æ˜)ã€‚

ç¬¦å· | è¯´æ˜
-|-
coin | ä»£è¡¨æŠ•å¸çš„æ•°é‡ [0,5]
gift | æ˜¯å¦éœ€è¦é€å‡ºå³å°†è¿‡æœŸç¤¼ç‰© [true,false]
s2c | æ˜¯å¦éœ€è¦å°†é“¶ç“œå­å…‘æ¢ç¡¬å¸ [true,false]
autoBiCoin | æœˆåº•è‡ªåŠ¨ä½¿ç”¨Bå¸å· [{0,è‡ªå·±æœ‰å…¶ä»–ç”¨é€”},{1,ç»™è‡ªå·±å……ç”µ},{2,å…‘æ¢æˆé‡‘ç“œå­}]
platform | ç”¨æˆ·è®¾å¤‡çš„æ ‡è¯†[android,ios]
upList | up ä¸»åˆ—è¡¨,ä¼˜å…ˆç»™è¿™äº› up ä¸»æŠ•å¸[uid]
manga | æ˜¯å¦è‡ªåŠ¨è¿›è¡Œæ¼«ç”»ç­¾åˆ° [true,false]
upLive | å³å°†è¿‡æœŸç¤¼ç‰©ç»™æ­¤upçš„ç›´æ’­é—´,å¡«å†™å…¶ uid
selectLike | å¯¹äºè¿›è¡ŒæŠ•å¸çš„è§†é¢‘é€‰æ‹©æ˜¯å¦ç‚¹èµ , é»˜è®¤ä¸ç‚¹èµ [0,1]

```yml
#æ¯å¤©éœ€è¦æŠ•å¸çš„æ•°é‡ [0,5]ã€‚
coin: 5
#é€å‡ºå³å°†è¿‡æœŸç¤¼ç‰© [true,false]
gift: true
#é“¶ç“œå­å…‘æ¢ä¸ºç¡¬å¸ [true,false]
s2c: true
#æœˆåº•è‡ªåŠ¨ä½¿ç”¨Bå¸å· [{0,è‡ªå·±ä¼šä½¿ç”¨},{1,ç»™è‡ªå·±å……ç”µ},{2,å…‘æ¢æˆé‡‘ç“œå­}]
autoBiCoin: 1
#ç”¨æˆ·è®¾å¤‡çš„æ ‡è¯† [android,ios]
platform: android
#è‡ªå®šä¹‰ä¼˜å…ˆç»™è¿™äº› up çš„è§†é¢‘æŠ•å¸ , ä»¥ymlæ•°ç»„çš„å½¢å¼ , å¡«å†™å…¶ uid (mid)
upList:
  - 477137547
  - 14602398
#è¿›è¡Œæ¼«ç”»ç­¾åˆ°ä»»åŠ¡ [true,false]
manga: true
#ä¼˜å…ˆé€å‡ºå³å°†è¿‡æœŸç¤¼ç‰©ç»™æ­¤upçš„ç›´æ’­é—´,å¡«å†™å…¶ uid
upLive: 477137547
#å¯¹äºè¿›è¡ŒæŠ•å¸çš„è§†é¢‘é€‰æ‹©æ˜¯å¦ç‚¹èµ , é»˜è®¤ä¸ç‚¹èµ [0,1]
selectLike: 0
```

å¦‚å®åœ¨æ²¡æœ‰æƒ³ç»™ä»–æŠ•å¸çš„upä¸»ï¼Œå¯ä»¥è€ƒè™‘æŠŠæˆ‘å¡«ä¸Šå“¦ `477137547` ğŸ˜„

# Dockeréƒ¨ç½²æ–¹æ³•

* ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¯·è‡ªè¡Œæ›¿æ¢æ‰€éœ€çš„ç¯å¢ƒå˜é‡
* **æ¯å¤©00:01åˆ†è¿è¡Œç¨‹åº**
```(shell script)
docker run -d \
  --env BILI_JCT=è‡ªè¡Œå¡«å†™ \
  --env DEDEUSERID=è‡ªè¡Œå¡«å†™ \
  --env SESSDATA=è‡ªè¡Œå¡«å†™ \
  timmyovo/bilibilitask
```

## 2.æ¨é€è¿è¡Œç»“æœåˆ°å¾®ä¿¡

### ä½¿ç”¨`server`é…±å°†ç¨‹åºè¿è¡Œç»“æœæ¨é€åˆ°å¾®ä¿¡

`server`é…±å®˜ç½‘ï¼š`http://sc.ftqq.com`

+ æŒ‰ç…§`server`é…±å®˜ç½‘ä½¿ç”¨æ•™ç¨‹ï¼Œç”¨`github`ç™»å½•å¹¶ç»‘å®šå¾®ä¿¡ã€‚

+ è·å¾—`SCKEY`å¹¶å°†å…¶å¡«å…¥åˆ°`Secrets`ä¸­ã€‚

åœ¨`Secrets`ä¸­çš„`Name`å’Œ`Value`æ ¼å¼å¦‚ä¸‹ï¼š

Name | Value
-|-
SCKEY | xxxxx

è¿™æ ·å°±å¯ä»¥åœ¨å¾®ä¿¡æ¥æ”¶åˆ°è¿è¡Œç»“æœäº†ã€‚

![](img/serveré…±æ¨é€çš„ç»“æœ.jpg)

### ä½¿ç”¨`server`é…±æµ‹è¯•å·ç‰ˆæ¨é€è¿è¡Œç»“æœåˆ°å¾®ä¿¡

`server`é…±æµ‹è¯•å·ç‰ˆå®˜ç½‘ï¼š`https://sct.ftqq.com/`

+ æŒ‰ç…§`server`é…±æµ‹è¯•å·ç‰ˆå®˜ç½‘ä½¿ç”¨æ•™ç¨‹ï¼Œç”¨å¾®ä¿¡æ‰«ç ç™»å½•ã€‚

+ è·å¾—`SENDKEY`å¹¶å°†å…¶å¡«å…¥åˆ°`Secrets`ä¸­ã€‚

Name | Value
-|-
SENDKEY | xxxxx

### ä½¿ç”¨`push+`æ¨é€è¿è¡Œç»“æœåˆ°å¾®ä¿¡

> æ³¨æ„ï¼špushplusè¿›è¡Œäº†å‡çº§ï¼ŒæŸ¥çœ‹[pushplus åç»­æš‚åœç»´æŠ¤é€šçŸ¥](https://mp.weixin.qq.com/s/XbWih4Mv5ggBPGg0-QBJJw)

`push+`å®˜ç½‘ï¼š`http://www.pushplus.plus`

+ è¿›å…¥å®˜ç½‘é¦–é¡µç‚¹å‡»`ä¸€å¯¹ä¸€æ¨é€`ï¼Œç”¨å¾®ä¿¡æ‰«æå…¶äºŒç»´ç ï¼Œè¿›è¡Œå…³æ³¨

+ å…³æ³¨åï¼Œå³å¯çœ‹åˆ°`token`ï¼Œå°†å…¶æ·»åŠ åˆ°`Secrets`ä¸­å³å¯

åœ¨`Secrets`ä¸­çš„`Name`å’Œ`Value`æ ¼å¼å¦‚ä¸‹ï¼š

Name | Value
-|-
PUSHPLUSTK | xxxxx

## 3.æ¨é€è¿è¡Œç»“æœåˆ°é’‰é’‰

1.é¦–å…ˆï¼Œä½ éœ€è¦åœ¨é’‰é’‰åˆ›å»ºä¸€ä¸ªç¾¤èŠï¼Œå¯ä»¥æ‹‰å»ä¸¤ä¸ªäººåˆ›å»ºä¸€ä¸ªï¼Œå†æŠŠä»–ä»¬è¸¢å‡ºå»ã€‚

2.è·å–é’‰é’‰è‡ªå®šä¹‰æœºå™¨äººçš„`Webhook`ï¼Œå°†å…¶å¡«å†™åˆ°`Secrets`ä¸­

é”®å€¼å¯¹å¦‚ä¸‹æ ¼å¼:

Name | Value
-|-
DINGTALK | <https://oapi.dingtalk.com/robot/send?access_token=064559acaa666c43d5ba197656594f288f3acef9a64f4f43218beddd1c7b7050>

![](img/è·å–é’‰é’‰Webhook.gif)

## 4.ä½¿ç”¨`Telegram bot`æ¨é€è¿è¡Œç»“æœåˆ°`Telgram`ç¾¤ç»„

1. é¦–å…ˆéœ€è¦åˆ›å»º telegram bot å¹¶è·å– telegram bot tokenï¼Œå¯ä»¥å‚è€ƒ[æ–‡æ¡£](https://docs.microsoft.com/en-us/azure/bot-service/bot-service-channel-connect-telegram)ï¼›
2. å°†æœºå™¨äººåŠ å…¥ç¾¤ç»„ä¸­ï¼Œå¹¶è·å–ç¾¤ç»„IDï¼ŒæŸ¥çœ‹[Stackoverflowé—®ç­”](https://stackoverflow.com/a/32572159)ï¼›
3. å°† telegram bot token å’Œç¾¤ç»„IDæ·»åŠ åˆ°`Secrets`ä¸­å³å¯ã€‚

åœ¨`Secrets`ä¸­çš„`Name`å’Œ`Value`æ ¼å¼å¦‚ä¸‹ï¼š

Name               | Value
-------------------|------
TELEGRAM_BOT_TOKEN | xxxxx
TELEGRAM_CHAT_ID   | xxxxx

![](img/TgBotè¿è¡Œç»“æœ.jpg)

## 5.è‡ªå®šä¹‰ç¨‹åºè¿è¡Œæ—¶é—´

åœ¨`.github/workflows/Bilibili.yml`ä¿®æ”¹`cron`è¡¨è¾¾å¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`cron`è¡¨è¾¾å¼æ˜¯å›½é™…æ—¶é—´ï¼Œ
éœ€è¦æ¢ç®—åˆ°å›½å†…æ—¶é—´ï¼Œå¾€åæ¨8ä¸ªå°æ—¶ï¼Œä¾‹å¦‚å›½é™…æ—¶é—´æ˜¯12ç‚¹é’Ÿï¼Œåˆ™åœ¨å›½å†…æ˜¯20ç‚¹é’Ÿã€‚

![](img/è‡ªå®šä¹‰ç¨‹åºè¿è¡Œæ—¶é—´.png)

# å¦‚ä½•æ‹‰å–æœ€æ–°ä»£ç 

## æ–¹æ³•ä¸€

åœ¨`github`å®‰è£…`pull`ï¼Œä¼šè‡ªåŠ¨å¸®ä½ æ£€æµ‹ä¸Šæ¸¸ä»“åº“ï¼Œå¹¶å¸®åŠ©ä½ æ›´æ–°ä»£ç 

åœ°å€åœ¨è¿™: <https://github.com/apps/pull>

ç”±äºæ·»åŠ æœ‰é…ç½®æ–‡ä»¶`config.yml`ï¼Œæœ‰å¯èƒ½ä¼šè¦†ç›–ä½ è‡ªå®šä¹‰çš„`config.yml`ï¼Œéœ€è¦æ³¨æ„ã€‚

## æ–¹æ³•äºŒ

1ã€æŸ¥çœ‹æ˜¯å¦æœ‰æºå¤´ä»“åº“çš„åˆ«åå’Œåœ°å€

```sh
$ git remote -v
origin  https://github.com/cmdcs/BilibiliTask.git (fetch)
origin  https://github.com/cmdcs/BilibiliTask.git (push)
upstream  https://github.com/srcrs/BilibiliTask (fetch)
upstream  https://github.com/srcrs/BilibiliTask (push)
```

`origin`æ˜¯ä½ çš„ä»“åº“åœ°å€ï¼Œ`upstream`æ˜¯ä½ `fork`çš„æºå¤´ä»“åº“ã€‚é€šå¸¸ç¬¬ä¸€æ¬¡æ˜¯æ²¡æœ‰`upstream`çš„ã€‚

2ã€æ·»åŠ æºå¤´ä»“åº“

```sh
git remote add upstream https://github.com/srcrs/BilibiliTask
```

3ã€æŠŠä¸Šæ¸¸ä»“åº“`main`åˆ†æ”¯çš„æ›´æ–°æ‹‰å–åˆ°æœ¬åœ°

```sh
git pull upstream main
```

4ã€å°†æ›´æ–°åçš„ä»£ç æ¨é€åˆ°ä½ çš„ä»“åº“

```sh
git push origin main
```

ç”±äºæ·»åŠ æœ‰é…ç½®æ–‡ä»¶`config.yml`ï¼Œæœ‰å¯èƒ½ä¼šè¦†ç›–ä½ è‡ªå®šä¹‰çš„`config.yml`ï¼Œéœ€è¦æ³¨æ„ã€‚

# å‚è€ƒé¡¹ç›®

[happy888888/BiliExp](https://github.com/happy888888/BiliExp)
